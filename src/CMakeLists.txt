
ADD_SUBDIRECTORY(base)
ADD_SUBDIRECTORY(core)
ADD_SUBDIRECTORY(capability)
ADD_SUBDIRECTORY(clientkit)

# NUGU SDK Library
ADD_LIBRARY(libnugu SHARED
	$<TARGET_OBJECTS:objhttp2>
	$<TARGET_OBJECTS:objbase>
	$<TARGET_OBJECTS:objcore>
	$<TARGET_OBJECTS:objcapability>
	$<TARGET_OBJECTS:objclientkit>)

TARGET_LINK_LIBRARIES(libnugu PUBLIC
	${CURL_LIBRARY} ${JSONCPP_LIBRARY}
	${pkgs_LDFLAGS} ${LDFLAG_SOCKET} ${LDFLAG_DL})

SET_TARGET_PROPERTIES(libnugu
	PROPERTIES VERSION ${VERSION} SOVERSION ${VERSION_MAJOR} OUTPUT_NAME nugu)

INSTALL(TARGETS libnugu LIBRARY DESTINATION ${CMAKE_INSTALL_LIBDIR})
